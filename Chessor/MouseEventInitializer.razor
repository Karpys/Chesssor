@using System.Numerics
@using Chessor.Helpers

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JsService.Js.InvokeVoidAsync("chessHelper.initializeMouseMove", DotNetObjectReference.Create(this));
        }
    }   
    
    [JSInvokable]
    public void OnGlobalMouseMove(double x, double y)
    {
        Console.WriteLine("On mouse move");
        MouseEvent.OnMouseMove(new Vector2((float)x, (float)y));
    }
    
    [JSInvokable]
    public void OnGlobalMouseClick()
    {
        Console.WriteLine("On mouse click");
        MouseEvent.OnMouseClick(MouseEvent.MousePosition);
    }
}
